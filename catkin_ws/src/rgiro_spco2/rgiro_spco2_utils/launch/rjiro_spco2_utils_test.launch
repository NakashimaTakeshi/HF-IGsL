<?xml version="1.0"?>

<launch>
  <arg name="trial_name" default="test"/>
  <arg name="dataset_Num" default="0"/>

  <!-- Launch gmapping. -->
  <arg name="scan" default="scan"/>
  <param name="use_sim_time" value="true"/>
  <node pkg="rgiro_gmapping" name="slam_gmapping" type="slam_gmapping">
  <!--  <param name="use_sim_time" value="true"/> -->
    <param name="scan" value="$(arg scan)"/>
    <param name="particles" value="30"/>
    <param name="xmin" value="-30.0"/>
    <param name="ymin" value="-20.0"/>
    <param name="xmax" value="30.0"/>
    <param name="ymax" value="20.0"/>
    <param name="ogain" value="5.0"/>
    <param name="resampleThreshold" value="1.0"/>     
  </node>

  <!-- Launch map_saver -->

  <node pkg="rgiro_spco2_utils" name="map_savering" type="map_saver.py">
    <param name="trial_name" value="$(arg trial_name)"/>
  </node>

  <!-- Launch run_rosbag -->

  <node pkg="rgiro_spco2_utils" name="play_rosbag" type="run_rosbag.py" output="screen">
    <param name="trial_name" value="$(arg trial_name)"/>
    <param name="dataset_NUM" value="$(arg dataset_Num)"/>
  </node>

<!--
   <arg name="map_file" default="$(find rulo_launch)/config/gazebo/maps/rgiro_mobile_demo/map.yaml"/>
  <arg name="move_forward_only" default="false"/>

  <node pkg="map_server" name="map_server" type="map_server" args="$(arg map_file)"/>
-->
</launch>
